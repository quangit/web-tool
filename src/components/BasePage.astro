---
import BaseLayout from "../layouts/BaseLayout.astro";
import Sidebar from "../components/Sidebar.astro";
import PageHeader from "../components/PageHeader.astro";
import { useTranslations } from '../i18n/utils';

interface Props {
    title: string;
    description: string;
    activePage: string;
}

const { title, description, activePage } = Astro.props;
const { lang = 'en' } = Astro.params;
const t = useTranslations(lang as any);
---

<BaseLayout title={`${title} - Web Tools`} description={description}>
    <div id="app">
        <Sidebar activePage={activePage} />
        <div id="content">
            <div class="top-nav">
                <button id="sidebar-toggler" aria-controls="sidebar" aria-expanded="false" aria-label={t('sidebar.toggle_menu')}>
                    <i data-lucide="menu"></i>
                </button>
            </div>
            <PageHeader title={title} description={description} />
            <main>
                <slot />
            </main>
        </div>
        <div id="message"></div>
    </div>
</BaseLayout>
