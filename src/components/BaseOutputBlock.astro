---
import CopyButton from './CopyButton.astro';
import DownloadButton from './DownloadButton.astro';
import FullscreenButton from './FullscreenButton.astro';

interface Props {
  title: string;
  showFullscreen?: boolean;
  showCopy?: boolean;
  showDownload?: boolean;
  copyTarget?: string;
  copyMessage?: string;
  downloadId?: string;
  downloadFilename?: string;
  wrapperClass?: string;
}

const {
  title,
  showFullscreen = true,
  showCopy = false,
  showDownload = false,
  copyTarget,
  copyMessage = 'Output copied',
  downloadId = 'download-image',
  downloadFilename = 'download',
  wrapperClass = 'output',
} = Astro.props;
---

<div class={wrapperClass}>
  <div class="block block-fill">
    <div class="block-title">
      {title}
      <div class="toolbar">
        <slot name="toolbar" />
        {showDownload && <DownloadButton id={downloadId} filename={downloadFilename} />}
        {showCopy && <CopyButton target={copyTarget} message={copyMessage} />}
        {showFullscreen && <FullscreenButton />}
      </div>
    </div>
    <slot />
  </div>
  <slot name="extra" />
</div>
